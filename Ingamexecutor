-- Initialize variables
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Background = Instance.new("ImageLabel")
local MinimizeButton = Instance.new("TextButton")
local MaximizeButton = Instance.new("TextButton")
local ExecuteButton = Instance.new("TextButton")
local ClearButton = Instance.new("TextButton")
local Tabs = {}
local TabSwitcher = Instance.new("Frame")

-- Setup ScreenGui
ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- Setup Frame
Frame.Parent = ScreenGui
Frame.Size = UDim2.new(0.4, 0, 0.4, 0)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.BackgroundTransparency = 1

-- Setup Background Image
Background.Parent = Frame
Background.Size = UDim2.new(1, 0, 1, 0)
Background.BackgroundTransparency = 1
Background.Image = "rbxassetid://18648068501"  -- Your asset ID for the background

-- Setup MinimizeButton
MinimizeButton.Parent = Frame
MinimizeButton.Size = UDim2.new(0.1, 0, 0.05, 0)
MinimizeButton.Position = UDim2.new(0.9, 0, 0, 0)
MinimizeButton.Text = "-"
MinimizeButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.BorderSizePixel = 0

-- Setup MaximizeButton
MaximizeButton.Parent = Frame
MaximizeButton.Size = UDim2.new(0.1, 0, 0.05, 0)
MaximizeButton.Position = UDim2.new(0.9, 0, 0, 0)
MaximizeButton.Text = "+"
MaximizeButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
MaximizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MaximizeButton.BorderSizePixel = 0
MaximizeButton.Visible = false

-- Setup ExecuteButton
ExecuteButton.Parent = Frame
ExecuteButton.Size = UDim2.new(0.2, 0, 0.1, 0)
ExecuteButton.Position = UDim2.new(0.4, 0, 0.8, 0)
ExecuteButton.Text = "Execute"
ExecuteButton.BackgroundColor3 = Color3.fromRGB(0, 0, 200)
ExecuteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ExecuteButton.BorderSizePixel = 0

-- Setup ClearButton
ClearButton.Parent = Frame
ClearButton.Size = UDim2.new(0.2, 0, 0.1, 0)
ClearButton.Position = UDim2.new(0.2, 0, 0.8, 0)
ClearButton.Text = "Clear"
ClearButton.BackgroundColor3 = Color3.fromRGB(200, 200, 0)
ClearButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ClearButton.BorderSizePixel = 0

-- Setup TabSwitcher
TabSwitcher.Parent = Frame
TabSwitcher.Size = UDim2.new(1, 0, 0.1, 0)
TabSwitcher.Position = UDim2.new(0, 0, 0, 0)
TabSwitcher.BackgroundColor3 = Color3.fromRGB(70, 70, 70)

-- Function to create a new tab
local function createTab(name)
    local tab = Instance.new("Frame")
    tab.Parent = Frame
    tab.Size = UDim2.new(1, 0, 0.3, 0)
    tab.Position = UDim2.new(0, 0, 0.1, 0)
    tab.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    tab.Visible = false
    
    local tabButton = Instance.new("TextButton")
    tabButton.Parent = TabSwitcher
    tabButton.Size = UDim2.new(1 / #Tabs, 0, 1, 0)
    tabButton.Position = UDim2.new((#Tabs - 1) / #Tabs, 0, 0, 0)
    tabButton.Text = name
    tabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    tabButton.BorderSizePixel = 0
    
    local textBox = Instance.new("TextBox")
    textBox.Parent = tab
    textBox.Size = UDim2.new(1, 0, 1, 0)
    textBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    
    table.insert(Tabs, {Tab = tab, TextBox = textBox, Button = tabButton})
end

-- Create example tabs
createTab("Tab 1")
createTab("Tab 2")

-- Function to show a tab based on the button clicked
local function showTab(index)
    for i, tab in ipairs(Tabs) do
        tab.Tab.Visible = (i == index)
    end
end

-- Connect tab buttons to show the respective tabs
for i, tab in ipairs(Tabs) do
    tab.Button.MouseButton1Click:Connect(function()
        showTab(i)
    end)
end

local isMinimized = false

local function minimize()
    isMinimized = true
    Frame:TweenSize(UDim2.new(0.2, 0, 0.2, 0), "Out", "Quad", 0.5, true)
    for _, tab in ipairs(Tabs) do
        tab.TextBox.Visible = false
    end
    ExecuteButton.Visible = false
    ClearButton.Visible = false
    MinimizeButton.Visible = false
    MaximizeButton.Visible = true
end

local function maximize()
    isMinimized = false
    Frame:TweenSize(UDim2.new(0.4, 0, 0.4, 0), "Out", "Quad", 0.5, true)
    for _, tab in ipairs(Tabs) do
        if tab.Tab.BackgroundColor3 == Color3.fromRGB(70, 70, 70) then
            tab.TextBox.Visible = true
            break
        end
    end
    ExecuteButton.Visible = true
    ClearButton.Visible = true
    MinimizeButton.Visible = true
    MaximizeButton.Visible = false
end

MinimizeButton.MouseButton1Click:Connect(function()
    minimize()
end)

MaximizeButton.MouseButton1Click:Connect(function()
    maximize()
end)
