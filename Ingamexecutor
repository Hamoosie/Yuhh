-- Initialize variables
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Background = Instance.new("ImageLabel")
local MinimizeButton = Instance.new("TextButton")
local MaximizeButton = Instance.new("TextButton")
local ExecuteButton = Instance.new("TextButton")
local ClearButton = Instance.new("TextButton")
local Tabs = {}  -- Initialize Tabs as an empty table or populate with your UI elements

-- Setup ScreenGui
ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- Setup Frame
Frame.Parent = ScreenGui
Frame.Size = UDim2.new(0.4, 0, 0.4, 0)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.BackgroundTransparency = 1  -- Hide the default background of Frame

-- Setup Background Image
Background.Parent = Frame
Background.Size = UDim2.new(1, 0, 1, 0)
Background.BackgroundTransparency = 1
Background.Image = "rbxassetid://18648068501"  -- Your asset ID for the background

-- Setup MinimizeButton
MinimizeButton.Parent = Frame
MinimizeButton.Size = UDim2.new(0.1, 0, 0.05, 0)
MinimizeButton.Position = UDim2.new(0.9, 0, 0, 0)
MinimizeButton.Text = "-"
MinimizeButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Setup MaximizeButton
MaximizeButton.Parent = Frame
MaximizeButton.Size = UDim2.new(0.1, 0, 0.05, 0)
MaximizeButton.Position = UDim2.new(0.9, 0, 0, 0)
MaximizeButton.Text = "+"
MaximizeButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
MaximizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MaximizeButton.Visible = false

-- Setup ExecuteButton
ExecuteButton.Parent = Frame
ExecuteButton.Size = UDim2.new(0.2, 0, 0.1, 0)
ExecuteButton.Position = UDim2.new(0.4, 0, 0.8, 0)
ExecuteButton.Text = "Execute"
ExecuteButton.BackgroundColor3 = Color3.fromRGB(0, 0, 200)
ExecuteButton.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Setup ClearButton
ClearButton.Parent = Frame
ClearButton.Size = UDim2.new(0.2, 0, 0.1, 0)
ClearButton.Position = UDim2.new(0.2, 0, 0.8, 0)
ClearButton.Text = "Clear"
ClearButton.BackgroundColor3 = Color3.fromRGB(200, 200, 0)
ClearButton.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Add Tabs to the Tabs table (Populate this based on your UI setup)
-- Example:
-- local tab1 = Instance.new("Frame")
-- tab1.Parent = Frame
-- tab1.Size = UDim2.new(0.8, 0, 0.6, 0)
-- tab1.Position = UDim2.new(0.1, 0, 0.1, 0)
-- tab1.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
-- local textBox1 = Instance.new("TextBox")
-- textBox1.Parent = tab1
-- textBox1.Size = UDim2.new(1, 0, 1, 0)
-- textBox1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
-- table.insert(Tabs, {Tab = tab1, TextBox = textBox1})

local isMinimized = false

local function minimize()
    isMinimized = true
    Frame:TweenSize(UDim2.new(0.2, 0, 0.2, 0), "Out", "Quad", 0.5, true)
    for _, tab in ipairs(Tabs) do
        tab.TextBox.Visible = false
    end
    ExecuteButton.Visible = false
    ClearButton.Visible = false
    MinimizeButton.Visible = false
    MaximizeButton.Visible = true
end

local function maximize()
    isMinimized = false
    Frame:TweenSize(UDim2.new(0.4, 0, 0.4, 0), "Out", "Quad", 0.5, true)
    for _, tab in ipairs(Tabs) do
        if tab.Tab.BackgroundColor3 == Color3.fromRGB(70, 70, 70) then
            tab.TextBox.Visible = true
            break
        end
    end
    ExecuteButton.Visible = true
    ClearButton.Visible = true
    MinimizeButton.Visible = true
    MaximizeButton.Visible = false
end

MinimizeButton.MouseButton1Click:Connect(function()
    minimize()
end)

MaximizeButton.MouseButton1Click:Connect(function()
    maximize()
end)
