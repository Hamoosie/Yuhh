-- Services
local Players = game:GetService("Players")
local Chat = game:GetService("Chat")

-- Helper function to teleport the local player to another player
local function teleportToPlayer(targetPlayer)
    local localPlayer = Players.LocalPlayer
    if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
        localPlayer.Character:MoveTo(targetPlayer.Character.HumanoidRootPart.Position)
    else
        print("Target player is not available.")
    end
end

-- Function to handle chat messages
local function onChatMessage(message, player)
    -- Check if the message starts with ".teleport "
    if message:sub(1, 10) == ".teleport " then
        local username = message:sub(11)
        if username then
            -- Find the player by username or partial username
            local players = Players:GetPlayers()
            local targetPlayer = nil
            for _, p in ipairs(players) do
                if p.Name:lower():sub(1, username:len()):lower() == username:lower() then
                    targetPlayer = p
                    break
                end
            end
            
            if targetPlayer then
                teleportToPlayer(targetPlayer)
            else
                print("No player found with username starting with: " .. username)
            end
        end
    end
end

-- Connect chat message handler
Chat.Chatted:Connect(onChatMessage)
